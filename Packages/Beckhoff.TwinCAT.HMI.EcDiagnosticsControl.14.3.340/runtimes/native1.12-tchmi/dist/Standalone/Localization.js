import{Localization as CommonLocalization}from"../Common/Localization.js";export class Localization extends CommonLocalization{static defaultLang="en";constructor(commonPath,lang){super(),this.__commonPath=commonPath,this.setLanguage(lang)}__commonPath;__lang=Localization.defaultLang;__defaultLocalizedTexts=null;setLanguage(lang){if(void 0===lang)return this.__lang=Localization.defaultLang,void TcHmi.Log.warn(`No language set. Using default language '${Localization.defaultLang}' instead.`);this.__lang=lang}fetchLanguage(){return this.__fetchLocalizedTexts().then(localizedTextsFile=>{const data=localizedTextsFile.localizedText;this.__lang===Localization.defaultLang?this.__defaultLocalizedTexts=data:this.__localizedTexts=data})}__fetchLocalizedTexts(){return fetch(`${this.__commonPath}/Lang/Language.${this.__lang}.json`).then(response=>response.ok?response.json():Promise.reject(new Error))}getLocalizedText(contentKey){if(this.__lang!==Localization.defaultLang){if(null!==this.__localizedTexts&&void 0!==this.__localizedTexts[contentKey])return this.__localizedTexts[contentKey];TcHmi.Log.warn(`No localized Text for contentKey '${contentKey}' found for language '${this.__lang}'.`)}return null!==this.__defaultLocalizedTexts&&void 0!==this.__defaultLocalizedTexts[contentKey]?(this.__lang!==Localization.defaultLang&&TcHmi.Log.warn(`Using default language '${Localization.defaultLang}' instead.`),this.__defaultLocalizedTexts[contentKey]):(TcHmi.Log.warn(`Content key '${contentKey}' is even not defined for default language '${Localization.defaultLang}'. Using contentKey itself instead.`),contentKey)}}