import{customElementsPrefix}from"../../Defines.js";export class StatusButton extends HTMLElement{__resetDelayDuration=2e3;__resetDelay=null;__stateIcon;__ecdiagnostics;__experimentalMode=!1;constructor(){super(),queueMicrotask(()=>{this.classList.add("regular-button");const existingIcon=this.querySelector("use");if(existingIcon)this.__stateIcon=existingIcon;else{const stateWrapper=document.createElement("span");stateWrapper.classList.add("status-button-state");const svg=document.createElementNS("http://www.w3.org/2000/svg","svg");svg.classList.add("feather"),this.__stateIcon=document.createElementNS("http://www.w3.org/2000/svg","use"),svg.append(this.__stateIcon),stateWrapper.append(svg),this.append(stateWrapper)}})}init(ecdiagnostics,text){if(this.__ecdiagnostics=ecdiagnostics,this.__experimentalMode=ecdiagnostics.config.experimentalMode,text){ecdiagnostics.getLocalization().addElement(this,text)}}connectedCallback(){}disconnectedCallback(){}setStateToIdle(){this.__experimentalMode&&(this.__clearTimout(),this.__stateIcon?.removeAttribute("href"),this.classList.remove("status-button-padding"),this.classList.remove("regular-button-pressed"))}setStateToLoading(){this.__ecdiagnostics&&this.__stateIcon&&this.__experimentalMode&&(this.classList.add("regular-button-pressed","status-button-padding"),this.__stateIcon.classList.add("spin-it"),this.__stateIcon.setAttribute("href",`${this.__ecdiagnostics.commonPath}/Icons/feather-sprite.svg#open-circle`))}setStateToSuccess(){this.__ecdiagnostics&&this.__stateIcon&&this.__experimentalMode&&(this.classList.add("regular-button-pressed","status-button-padding"),this.__stateIcon.classList.remove("spin-it"),this.__stateIcon.setAttribute("href",`${this.__ecdiagnostics.commonPath}/Icons/feather-sprite.svg#check-circle`),this.__resetButtonAfterTimeout())}setStateToError(){this.__ecdiagnostics&&this.__stateIcon&&this.__experimentalMode&&(this.classList.add("regular-button-pressed","status-button-padding"),this.__stateIcon.classList.remove("spin-it"),this.__stateIcon.setAttribute("href",`${this.__ecdiagnostics.commonPath}/Icons/feather-sprite.svg#alert-circle`),this.__resetButtonAfterTimeout())}__clearTimout(){this.__experimentalMode&&this.__resetDelay&&clearTimeout(this.__resetDelay)}__resetButtonAfterTimeout(){this.__experimentalMode&&(this.__clearTimout(),this.__resetDelay=setTimeout(this.setStateToIdle.bind(this),this.__resetDelayDuration))}}customElements.define(customElementsPrefix+"status-button",StatusButton);