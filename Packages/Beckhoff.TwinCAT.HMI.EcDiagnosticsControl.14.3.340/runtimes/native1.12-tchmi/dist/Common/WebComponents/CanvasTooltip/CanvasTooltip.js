import{ElementWithCallback}from"../ElementWithCallback/ElementWithCallback.js";import{customElementsPrefix}from"../../Defines.js";export class CanvasTooltip extends ElementWithCallback{constructor(){super()}__hoverEventListener=null;connectedCallback(){this.__removeEvents(),this.__hoverEventListener=this.hide.bind(this),this.addEventListener("pointerover",this.__hoverEventListener)}disconnectedCallback(){super.disconnectedCallback(),this.__removeEvents()}destroy(){this.__removeEvents(),this.remove()}__removeEvents(){this.__hoverEventListener&&(this.removeEventListener("pointerover",this.__hoverEventListener),this.__hoverEventListener=null)}hide(){this.style.removeProperty("display")}show(content,x,y){this.innerHTML="",this.append(content),this.style.display="block";const tooltipDimension_width=this.clientWidth,tooltipDimension_height=this.clientHeight;if(!this.parentElement)return;const tooltipPos={x:-0+x+15,y:-0+y+15};window.innerWidth<tooltipPos.x+tooltipDimension_width&&(tooltipPos.x=x-(15+tooltipDimension_width)),window.innerHeight<tooltipPos.y+tooltipDimension_height&&(tooltipPos.y=y-(15+tooltipDimension_height)),this.style.left=`${tooltipPos.x}px`,this.style.top=`${tooltipPos.y}px`}}customElements.define(customElementsPrefix+"canvas-tooltip",CanvasTooltip);